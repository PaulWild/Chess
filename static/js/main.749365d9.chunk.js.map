{"version":3,"sources":["components/draggable.module.css","components/draggable.tsx","components/classic_pieces/bishop_black.tsx","components/classic_pieces/bishop_white.tsx","components/classic_pieces/king_black.tsx","components/classic_pieces/king_white.tsx","components/classic_pieces/knight_black.tsx","components/classic_pieces/knight_white.tsx","components/classic_pieces/pawn_black.tsx","components/classic_pieces/pawn_white.tsx","components/classic_pieces/queen_black.tsx","components/classic_pieces/queen_white.tsx","components/classic_pieces/rook_black.tsx","components/classic_pieces/rook_white.tsx","components/classic_pieces/index.tsx","engine/board.ts","engine/basePiece.ts","engine/bishop.ts","engine/king.ts","engine/knight.ts","engine/pawn.ts","engine/queen.ts","engine/rook.ts","engine/square.ts","components/game-context.tsx","engine/initial-board.ts","engine/game.ts","App.tsx","reportWebVitals.ts","index.tsx","App.module.css"],"names":["module","exports","Draggable","children","boundingBox","onMouseDown","onMouseMove","onMouseUp","useState","x","y","pressed","initial","setInitial","position","setPosition","ref","useRef","useEffect","current","style","transform","onMouseUpCallback","React","useCallback","onMouseMoveCallback","eventAction","ev","type","touches","Math","max","min","pageX","right","left","pageY","bottom","top","dx","dy","activeCallback","document","addEventListener","removeEventListener","onMouseDownCallback","box","getBoundingClientRect","initX","initY","width","height","className","Styles","active","onTouchStart","BishopBlack","props","xmlns","viewBox","fill","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","BishopWhite","KingBlack","KingWhite","KnightBlack","KnightWhite","PawnBlack","PawnWhite","QueenBlack","cx","cy","r","QueenWhite","RookBlack","RookWhite","Black","King","Queen","Knight","Bishop","Pawn","Rook","White","RankArray","FileArray","Board","initialPositions","enPassant","undefined","movedPieces","_board","_enPassant","_movedPieces","addToMoved","piece","includes","push","pieceMoved","clone","map","_","move","from","to","console","log","squareFrom","getPieceAt","squareTo","Error","place","remove","square","placeAt","getMoveAtPosition","rankDelta","fileDelta","newFile","indexOf","file","newRank","rank","checkPosition","getMovesOnLine","validMoves","i","canTakeAt","colour","canTakeEnPassant","canMoveTo","pieceType","isStandardMove","item","find","isKingInCheck","kingPosition","board","filter","flatMap","getMoveValidator","getPotentialMoves","some","this","value","BasePiece","BaseValidator","allMoves","potentialMove","BishopValidator","RookValidator","QueenValidator","KnightValidator","rd","fd","PawnValidator","increment","captureDeltas","moves","captures","KingValidator","castlingDeltas","canCastle","moveDeltas","rookFile","kingRank","rook","every","Square","_piece","game","sqaure","buildBoard","canMove","rookFrom","rookTo","initialState","GameContext","createContext","reducer","state","action","activePiece","payload","threatenedSquare","GameContextProvider","useReducer","dispatch","Provider","GridPosition","bound","useContext","DraggableContext","inBound","setInBound","isLight","isLightSquare","Piece","currentBoard","set","pieceHover","pieceActivated","styles","chessSquare","light","highlighted","chessGrid","setBound","onWindowResize","useOnWindowResize","container","f","App","handleResize","window","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.749365d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"draggable_active__3TbHp\"};","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Styles from \"./draggable.module.css\";\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n  boundingBox?: DOMRect;\r\n  onMouseDown?: (x: number, y: number) => void;\r\n  onMouseMove?: (x: number, y: number) => void;\r\n  onMouseUp?: (x: number, y: number) => void;\r\n};\r\n\r\nexport const Draggable = ({\r\n  children,\r\n  boundingBox,\r\n  onMouseDown,\r\n  onMouseMove,\r\n  onMouseUp,\r\n}: Props) => {\r\n  const [initial, setInitial] = useState({ x: 0, y: 0, pressed: false });\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current && initial.pressed) {\r\n      ref.current.style.transform = `translate(${position.x}px, ${position.y}px)`;\r\n    } else if (ref.current) {\r\n      ref.current.style.transform = \"\";\r\n    }\r\n  }, [position, initial.pressed]);\r\n\r\n  const onMouseUpCallback = React.useCallback((): void => {\r\n    setInitial({ x: 0, y: 0, pressed: false });\r\n    setPosition({ x: 0, y: 0 });\r\n    onMouseUp?.(-1, -1);\r\n  }, [onMouseUp]);\r\n\r\n  const onMouseMoveCallback = React.useCallback(\r\n    (eventAction: MouseEvent | TouchEvent): void => {\r\n      let ev;\r\n      if (eventAction.type === \"mousemove\") {\r\n        ev = eventAction as MouseEvent;\r\n      } else {\r\n        ev = (eventAction as TouchEvent).touches[0];\r\n      }\r\n\r\n      const x = boundingBox\r\n        ? Math.max(Math.min(ev.pageX, boundingBox.right), boundingBox.left)\r\n        : ev.pageX;\r\n      const y = boundingBox\r\n        ? Math.max(Math.min(ev.pageY, boundingBox.bottom), boundingBox.top)\r\n        : ev.pageY;\r\n\r\n      const dx = x - initial.x;\r\n      const dy = y - initial.y;\r\n\r\n      onMouseMove?.(x, y);\r\n      setPosition({\r\n        x: dx,\r\n        y: dy,\r\n      });\r\n    },\r\n    [initial, boundingBox, onMouseMove]\r\n  );\r\n  const activeCallback = useRef(onMouseMoveCallback);\r\n\r\n  useEffect(() => {\r\n    if (initial.pressed) {\r\n      activeCallback.current = onMouseMoveCallback;\r\n      document.addEventListener(\"mousemove\", onMouseMoveCallback);\r\n      document.addEventListener(\"mouseup\", onMouseUpCallback);\r\n      document.addEventListener(\"touchmove\", onMouseMoveCallback);\r\n      document.addEventListener(\"touchend\", onMouseUpCallback);\r\n    } else {\r\n      document.removeEventListener(\"mousemove\", activeCallback.current);\r\n      document.removeEventListener(\"mouseup\", onMouseUpCallback);\r\n      document.removeEventListener(\"touchmove\", activeCallback.current);\r\n      document.removeEventListener(\"touchend\", onMouseUpCallback);\r\n    }\r\n  }, [initial.pressed, onMouseMoveCallback, onMouseUpCallback]);\r\n\r\n  const onMouseDownCallback = (\r\n    eventAction: React.MouseEvent | React.TouchEvent\r\n  ) => {\r\n    let ev;\r\n    if (eventAction.type === \"mousedown\") {\r\n      ev = eventAction as React.MouseEvent;\r\n    } else {\r\n      ev = (eventAction as React.TouchEvent).touches[0];\r\n    }\r\n    const box = ref.current?.getBoundingClientRect();\r\n\r\n    let initX = ev.pageX;\r\n    let initY = ev.pageY;\r\n\r\n    if (box) {\r\n      initX = box?.x + box?.width / 2;\r\n      initY = box?.y + box?.height / 2;\r\n    }\r\n\r\n    const x = boundingBox\r\n      ? Math.max(Math.min(ev.pageX, boundingBox.right), boundingBox.left)\r\n      : ev.pageX;\r\n    const y = boundingBox\r\n      ? Math.max(Math.min(ev.pageY, boundingBox.bottom), boundingBox.top)\r\n      : ev.pageY;\r\n\r\n    const dx = x - initX;\r\n    const dy = y - initY;\r\n\r\n    setPosition({ x: dx, y: dy });\r\n    onMouseDown?.(x, y);\r\n    setInitial({ x: initX, y: initY, pressed: true });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={initial.pressed ? Styles.active : \"\"}\r\n      ref={ref}\r\n      onMouseDown={onMouseDownCallback}\r\n      onTouchStart={onMouseDownCallback}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import * as React from \"react\";\r\n\r\nfunction BishopBlack(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <g fill=\"#000\" strokeLinecap=\"butt\">\r\n          <path d=\"M9 36c3.39-.97 10.11.43 13.5-2 3.39 2.43 10.11 1.03 13.5 2 0 0 1.65.54 3 2-.68.97-1.65.99-3 .5-3.39-.97-10.11.46-13.5-1-3.39 1.46-10.11.03-13.5 1-1.35.49-2.32.47-3-.5 1.35-1.46 3-2 3-2z\" />\r\n          <path d=\"M15 32c2.5 2.5 12.5 2.5 15 0 .5-1.5 0-2 0-2 0-2.5-2.5-4-2.5-4 5.5-1.5 6-11.5-5-15.5-11 4-10.5 14-5 15.5 0 0-2.5 1.5-2.5 4 0 0-.5.5 0 2z\" />\r\n          <path d=\"M25 8a2.5 2.5 0 11-5 0 2.5 2.5 0 115 0z\" />\r\n        </g>\r\n        <path\r\n          d=\"M17.5 26h10M15 30h15m-7.5-14.5v5M20 18h5\"\r\n          stroke=\"#fff\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(BishopBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction BishopWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <g fill=\"#fff\" strokeLinecap=\"butt\">\r\n          <path d=\"M9 36c3.39-.97 10.11.43 13.5-2 3.39 2.43 10.11 1.03 13.5 2 0 0 1.65.54 3 2-.68.97-1.65.99-3 .5-3.39-.97-10.11.46-13.5-1-3.39 1.46-10.11.03-13.5 1-1.35.49-2.32.47-3-.5 1.35-1.46 3-2 3-2z\" />\r\n          <path d=\"M15 32c2.5 2.5 12.5 2.5 15 0 .5-1.5 0-2 0-2 0-2.5-2.5-4-2.5-4 5.5-1.5 6-11.5-5-15.5-11 4-10.5 14-5 15.5 0 0-2.5 1.5-2.5 4 0 0-.5.5 0 2z\" />\r\n          <path d=\"M25 8a2.5 2.5 0 11-5 0 2.5 2.5 0 115 0z\" />\r\n        </g>\r\n        <path\r\n          d=\"M17.5 26h10M15 30h15m-7.5-14.5v5M20 18h5\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(BishopWhite);\r\n","import * as React from \"react\";\r\n\r\nfunction KingBlack(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M22.5 11.63V6\" strokeLinejoin=\"miter\" />\r\n        <path\r\n          d=\"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5\"\r\n          fill=\"#000\"\r\n          strokeLinecap=\"butt\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n        <path\r\n          d=\"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7\"\r\n          fill=\"#000\"\r\n        />\r\n        <path d=\"M20 8h5\" strokeLinejoin=\"miter\" />\r\n        <path\r\n          d=\"M32 29.5s8.5-4 6.03-9.65C34.15 14 25 18 22.5 24.5v2.1-2.1C20 18 10.85 14 6.97 19.85 4.5 25.5 13 29.5 13 29.5\"\r\n          stroke=\"#fff\"\r\n        />\r\n        <path\r\n          d=\"M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0\"\r\n          stroke=\"#fff\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(KingBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction KingWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M22.5 11.63V6M20 8h5\" strokeLinejoin=\"miter\" />\r\n        <path\r\n          d=\"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5\"\r\n          fill=\"#fff\"\r\n          strokeLinecap=\"butt\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n        <path\r\n          d=\"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7\"\r\n          fill=\"#fff\"\r\n        />\r\n        <path d=\"M12.5 30c5.5-3 14.5-3 20 0M12.5 33.5c5.5-3 14.5-3 20 0M12.5 37c5.5-3 14.5-3 20 0\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(KingWhite);\r\n","import * as React from \"react\";\r\n\r\nfunction KnightBlack(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M22 10c10.5 1 16.5 8 16 29H15c0-9 10-6.5 8-21\" fill=\"#000\" />\r\n        <path\r\n          d=\"M24 18c.38 2.91-5.55 7.37-8 9-3 2-2.82 4.34-5 4-1.042-.94 1.41-3.04 0-3-1 0 .19 1.23-1 2-1 0-4.003 1-4-4 0-2 6-12 6-12s1.89-1.9 2-3.5c-.73-.994-.5-2-.5-3 1-1 3 2.5 3 2.5h2s.78-1.992 2.5-3c1 0 1 3 1 3\"\r\n          fill=\"#000\"\r\n        />\r\n        <path\r\n          d=\"M9.5 25.5a.5.5 0 11-1 0 .5.5 0 111 0z\"\r\n          fill=\"#fff\"\r\n          stroke=\"#fff\"\r\n        />\r\n        <path\r\n          d=\"M14.933 15.75a.5 1.5 30 11-.866-.5.5 1.5 30 11.866.5z\"\r\n          fill=\"#fff\"\r\n          stroke=\"#fff\"\r\n          strokeWidth={1.49997}\r\n        />\r\n        <path\r\n          d=\"M24.55 10.4l-.45 1.45.5.15c3.15 1 5.65 2.49 7.9 6.75S35.75 29.06 35.25 39l-.05.5h2.25l.05-.5c.5-10.06-.88-16.85-3.25-21.34-2.37-4.49-5.79-6.64-9.19-7.16l-.51-.1z\"\r\n          fill=\"#fff\"\r\n          stroke=\"none\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(KnightBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction KnightWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path d=\"M22 10c10.5 1 16.5 8 16 29H15c0-9 10-6.5 8-21\" fill=\"#fff\" />\r\n        <path\r\n          d=\"M24 18c.38 2.91-5.55 7.37-8 9-3 2-2.82 4.34-5 4-1.042-.94 1.41-3.04 0-3-1 0 .19 1.23-1 2-1 0-4.003 1-4-4 0-2 6-12 6-12s1.89-1.9 2-3.5c-.73-.994-.5-2-.5-3 1-1 3 2.5 3 2.5h2s.78-1.992 2.5-3c1 0 1 3 1 3\"\r\n          fill=\"#fff\"\r\n        />\r\n        <path d=\"M9.5 25.5a.5.5 0 11-1 0 .5.5 0 111 0z\" fill=\"#000\" />\r\n        <path\r\n          d=\"M14.933 15.75a.5 1.5 30 11-.866-.5.5 1.5 30 11.866.5z\"\r\n          fill=\"#000\"\r\n          strokeWidth={1.49997}\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(KnightWhite);\r\n","import * as React from \"react\";\r\n\r\nconst PawnBlack = (props: React.SVGProps<SVGSVGElement>) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default React.memo(PawnBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction PawnWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z\"\r\n        fill=\"#fff\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(PawnWhite);\r\n","import * as React from \"react\";\r\n\r\nfunction QueenBlack(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path\r\n          d=\"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26z\"\r\n          strokeLinecap=\"butt\"\r\n        />\r\n        <path d=\"M9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1 2.5-1 2.5-1.5 1.5 0 2.5 0 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0zM11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0\" />\r\n        <circle cx={6} cy={12} r={2} />\r\n        <circle cx={14} cy={9} r={2} />\r\n        <circle cx={22.5} cy={8} r={2} />\r\n        <circle cx={31} cy={9} r={2} />\r\n        <circle cx={39} cy={12} r={2} />\r\n        <path d=\"M11 38.5a35 35 1 0023 0\" fill=\"none\" strokeLinecap=\"butt\" />\r\n        <g fill=\"none\" stroke=\"#fff\">\r\n          <path d=\"M11 29a35 35 1 0123 0M12.5 31.5h20M11.5 34.5a35 35 1 0022 0M10.5 37.5a35 35 1 0024 0\" />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(QueenBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction QueenWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g fill=\"#fff\" stroke=\"#000\" strokeWidth={1.5} strokeLinejoin=\"round\">\r\n        <path d=\"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26z\" />\r\n        <path d=\"M9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1 2.5-1 2.5-1.5 1.5 0 2.5 0 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0z\" />\r\n        <path\r\n          d=\"M11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0\"\r\n          fill=\"none\"\r\n        />\r\n        <circle cx={6} cy={12} r={2} />\r\n        <circle cx={14} cy={9} r={2} />\r\n        <circle cx={22.5} cy={8} r={2} />\r\n        <circle cx={31} cy={9} r={2} />\r\n        <circle cx={39} cy={12} r={2} />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(QueenWhite);\r\n","import * as React from \"react\";\r\n\r\nfunction RookBlack(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path\r\n          d=\"M9 39h27v-3H9v3zM12.5 32l1.5-2.5h17l1.5 2.5h-20zM12 36v-4h21v4H12z\"\r\n          strokeLinecap=\"butt\"\r\n        />\r\n        <path\r\n          d=\"M14 29.5v-13h17v13H14z\"\r\n          strokeLinecap=\"butt\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n        <path\r\n          d=\"M14 16.5L11 14h23l-3 2.5H14zM11 14V9h4v2h5V9h5v2h5V9h4v5H11z\"\r\n          strokeLinecap=\"butt\"\r\n        />\r\n        <path\r\n          d=\"M12 35.5h21M13 31.5h19M14 29.5h17M14 16.5h17M11 14h23\"\r\n          fill=\"none\"\r\n          stroke=\"#fff\"\r\n          strokeWidth={1}\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(RookBlack);\r\n","import * as React from \"react\";\r\n\r\nfunction RookWhite(props: React.SVGProps<SVGSVGElement>) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      viewBox=\"0 0 45 45\"\r\n      {...props}\r\n    >\r\n      <g\r\n        fill=\"#fff\"\r\n        fillRule=\"evenodd\"\r\n        stroke=\"#000\"\r\n        strokeWidth={1.5}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      >\r\n        <path\r\n          d=\"M9 39h27v-3H9v3zM12 36v-4h21v4H12zM11 14V9h4v2h5V9h5v2h5V9h4v5\"\r\n          strokeLinecap=\"butt\"\r\n        />\r\n        <path d=\"M34 14l-3 3H14l-3-3\" />\r\n        <path\r\n          d=\"M31 17v12.5H14V17\"\r\n          strokeLinecap=\"butt\"\r\n          strokeLinejoin=\"miter\"\r\n        />\r\n        <path d=\"M31 29.5l1.5 2.5h-20l1.5-2.5\" />\r\n        <path d=\"M11 14h23\" fill=\"none\" strokeLinejoin=\"miter\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default React.memo(RookWhite);\r\n","import BishopBlack from \"./bishop_black\";\r\nimport BishopWhite from \"./bishop_white\";\r\nimport KingBlack from \"./king_black\";\r\nimport KingWhite from \"./king_white\";\r\nimport KnightBlack from \"./knight_black\";\r\nimport KnightWhite from \"./knight_white\";\r\nimport PawnBlack from \"./pawn_black\";\r\nimport PawnWhite from \"./pawn_white\";\r\nimport QueenBlack from \"./queen_black\";\r\nimport QueenWhite from \"./queen_white\";\r\nimport RookBlack from \"./rook_black\";\r\nimport RookWhite from \"./rook_white\";\r\n\r\nconst Black = {\r\n  King: KingBlack,\r\n  Queen: QueenBlack,\r\n  Knight: KnightBlack,\r\n  Bishop: BishopBlack,\r\n  Pawn: PawnBlack,\r\n  Rook: RookBlack,\r\n};\r\n\r\nconst White = {\r\n  King: KingWhite,\r\n  Queen: QueenWhite,\r\n  Knight: KnightWhite,\r\n  Bishop: BishopWhite,\r\n  Pawn: PawnWhite,\r\n  Rook: RookWhite,\r\n};\r\n\r\nexport { Black, White };\r\n","import { BasePiece, getMoveValidator } from \"./basePiece\";\r\nimport { Square } from \"./square\";\r\nimport { File, Position, Rank, ValidMove, ValidMoves } from \"./types\";\r\n\r\nexport const RankArray: Rank[] = [8, 7, 6, 5, 4, 3, 2, 1];\r\nexport const FileArray: File[] = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"];\r\n\r\nexport const isLightSquare = (rank: Rank, file: File) => {\r\n  if (rank % 2 === 0 && FileArray.indexOf(file) % 2 === 0) {\r\n    return true;\r\n  } else if (rank % 2 === 1 && FileArray.indexOf(file) % 2 === 1) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport class Board {\r\n  private _board: Square[];\r\n\r\n  public get board() {\r\n    return this._board;\r\n  }\r\n\r\n  private _enPassant: Position | undefined;\r\n  public get enPassant(): Position | undefined {\r\n    return this._enPassant;\r\n  }\r\n  public set enPassant(value: Position | undefined) {\r\n    this._enPassant = value;\r\n  }\r\n\r\n  private _movedPieces: BasePiece[];\r\n\r\n  constructor(\r\n    initialPositions: Square[],\r\n    enPassant: Position | undefined = undefined,\r\n    movedPieces: BasePiece[] | [] = []\r\n  ) {\r\n    this._board = initialPositions;\r\n    this.enPassant = enPassant;\r\n    this._movedPieces = movedPieces;\r\n  }\r\n\r\n  addToMoved = (piece: BasePiece) => {\r\n    if (!this._movedPieces.includes(piece)) {\r\n      this._movedPieces.push(piece);\r\n    }\r\n  };\r\n\r\n  pieceMoved = (piece: BasePiece) => {\r\n    return this._movedPieces.includes(piece);\r\n  };\r\n\r\n  clone = () => {\r\n    const board = this._board.map((x) => x.clone());\r\n    return new Board(\r\n      board,\r\n      this._enPassant,\r\n      this._movedPieces.map((_) => _)\r\n    );\r\n  };\r\n\r\n  move = (from: Position, to: Position) => {\r\n    console.log(this.enPassant, \"enPassant\");\r\n    const squareFrom = this.getPieceAt(from);\r\n    const squareTo = this.getPieceAt(to);\r\n\r\n    if (!squareFrom.piece) throw new Error(\"no piece to move\");\r\n\r\n    this.addToMoved(squareFrom.piece);\r\n    squareTo.place(squareFrom.piece);\r\n    squareFrom.remove();\r\n  };\r\n\r\n  remove = (position: Position) => {\r\n    const square = this.getPieceAt(position);\r\n    if (!square.piece) throw new Error(\"no piece to remove\");\r\n    square.remove();\r\n  };\r\n\r\n  placeAt = (position: Position, piece: BasePiece) => {\r\n    const square = this.getPieceAt(position);\r\n    square.place(piece);\r\n  };\r\n\r\n  getMoveAtPosition = (\r\n    position: Position,\r\n    piece: BasePiece,\r\n    rankDelta: number,\r\n    fileDelta: number\r\n  ): ValidMove | undefined => {\r\n    const newFile = FileArray.indexOf(position.file) + fileDelta;\r\n    const newRank = position.rank + rankDelta;\r\n\r\n    if (newRank > 8 || newFile > 7 || newRank < 1 || newFile < 0) {\r\n      return;\r\n    }\r\n    return this.checkPosition(piece, newRank as Rank, FileArray[newFile]);\r\n  };\r\n\r\n  getMovesOnLine = (\r\n    position: Position,\r\n    piece: BasePiece,\r\n    rankDelta: number,\r\n    fileDelta: number\r\n  ): ValidMoves => {\r\n    const validMoves = [];\r\n    for (let i = 1; i < 8; i++) {\r\n      const newFile = FileArray.indexOf(position.file) + fileDelta * i;\r\n      const newRank = position.rank + rankDelta * i;\r\n\r\n      if (newRank > 8 || newFile > 7 || newRank < 1 || newFile < 0) {\r\n        break;\r\n      }\r\n\r\n      const move = this.checkPosition(\r\n        piece,\r\n        newRank as Rank,\r\n        FileArray[newFile]\r\n      );\r\n\r\n      if (move === undefined) {\r\n        break;\r\n      }\r\n\r\n      validMoves.push(move);\r\n\r\n      if (move.move === \"Capture\") {\r\n        break;\r\n      }\r\n    }\r\n    return validMoves;\r\n  };\r\n\r\n  checkPosition = (\r\n    piece: BasePiece,\r\n    rank: Rank,\r\n    file: File\r\n  ): ValidMove | undefined => {\r\n    if (this.canTakeAt(rank, file, piece.colour)) {\r\n      return {\r\n        move: \"Capture\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    if (this.canTakeEnPassant(rank, file, piece)) {\r\n      return {\r\n        move: \"CaptureEnPassant\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    if (this.canMoveTo(rank, file)) {\r\n      if (\r\n        piece.pieceType === \"PAWN\" &&\r\n        !this.pieceMoved(piece) &&\r\n        (rank === 4 || rank === 5)\r\n      ) {\r\n        return {\r\n          move: \"PawnPush\",\r\n          rank: rank,\r\n          file: file,\r\n        };\r\n      }\r\n      return {\r\n        move: \"Move\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  isStandardMove = (item: ValidMove | undefined): item is ValidMove => {\r\n    return !!item;\r\n  };\r\n\r\n  canTakeAt = (rank: Rank, file: File, colour: \"WHITE\" | \"BLACK\"): boolean => {\r\n    const square = this.getPieceAt({ rank: rank as Rank, file });\r\n\r\n    return square.piece !== null && square.piece.colour !== colour;\r\n  };\r\n\r\n  canTakeEnPassant = (rank: Rank, file: File, piece: BasePiece): boolean => {\r\n    if (piece.pieceType !== \"PAWN\") return false;\r\n    if (!this.enPassant) return false;\r\n\r\n    return (\r\n      this.enPassant.file === file &&\r\n      this.enPassant.rank === rank + (piece.colour === \"WHITE\" ? -1 : 1)\r\n    );\r\n  };\r\n\r\n  canMoveTo = (rank: Rank, file: File): boolean => {\r\n    const pieceAt = this.getPieceAt({ rank: rank as Rank, file });\r\n    return pieceAt.piece === null;\r\n  };\r\n\r\n  getPieceAt = (position: Position): Square => {\r\n    const square = this._board.find(\r\n      (x) => x.rank === position.rank && x.file === position.file\r\n    );\r\n\r\n    if (square === undefined) throw new Error(\"Out of bounds\");\r\n\r\n    return square;\r\n  };\r\n\r\n  isKingInCheck = (colour: \"WHITE\" | \"BLACK\"): Boolean => {\r\n    const kingPosition = this.board.find(\r\n      (x) => x.piece?.pieceType === \"KING\" && x.piece.colour === colour\r\n    );\r\n\r\n    return this.board\r\n      .filter((x) => x.piece !== null && x.piece.colour !== colour)\r\n      .flatMap((x) =>\r\n        getMoveValidator(x.piece as BasePiece, this).getPotentialMoves({\r\n          file: x.file,\r\n          rank: x.rank,\r\n        })\r\n      )\r\n      .some(\r\n        (x) =>\r\n          (x as Position).file === kingPosition?.file &&\r\n          (x as Position).rank === kingPosition?.rank\r\n      );\r\n  };\r\n}\r\n","import { Board, FileArray } from \"./board\";\r\n\r\nimport {\r\n  InvalidMove,\r\n  PieceColour,\r\n  PieceType,\r\n  Position,\r\n  Rank,\r\n  ValidMove,\r\n  ValidMoves,\r\n  File,\r\n} from \"./types\";\r\n\r\ninterface IValidMoves {\r\n  getPotentialMoves(position: Position): ValidMoves;\r\n\r\n  canMove(from: Position, to: Position): ValidMove | InvalidMove;\r\n}\r\n\r\ninterface IPiece {\r\n  pieceType: PieceType;\r\n  colour: PieceColour;\r\n}\r\n\r\nexport abstract class BasePiece implements IPiece {\r\n  abstract pieceType: PieceType;\r\n  colour: PieceColour;\r\n\r\n  constructor(colour: PieceColour) {\r\n    this.colour = colour;\r\n  }\r\n}\r\n\r\nexport abstract class BaseValidator implements IValidMoves {\r\n  piece: IPiece;\r\n  board: Board;\r\n\r\n  constructor(piece: IPiece, board: Board) {\r\n    this.piece = piece;\r\n    this.board = board;\r\n  }\r\n\r\n  canMove(from: Position, to: Position): ValidMove | InvalidMove {\r\n    const allMoves = this.getPotentialMoves(from);\r\n\r\n    console.log(allMoves);\r\n    const potentialMove = allMoves.find(\r\n      (position) => position.file === to.file && position.rank === to.rank\r\n    );\r\n\r\n    if (!potentialMove) return { move: \"INVALID\" };\r\n\r\n    const clone = this.board.clone();\r\n    clone.move(from, to);\r\n\r\n    const m: ValidMove | InvalidMove = !clone.isKingInCheck(this.piece.colour)\r\n      ? potentialMove\r\n      : { move: \"INVALID\" };\r\n\r\n    return m;\r\n  }\r\n\r\n  getMoveAtPosition = (\r\n    position: Position,\r\n    rankDelta: number,\r\n    fileDelta: number\r\n  ): ValidMove | undefined => {\r\n    const newFile = FileArray.indexOf(position.file) + fileDelta;\r\n    const newRank = position.rank + rankDelta;\r\n\r\n    if (newRank > 8 || newFile > 7 || newRank < 1 || newFile < 0) {\r\n      return;\r\n    }\r\n    return this.checkPosition(newRank as Rank, FileArray[newFile]);\r\n  };\r\n\r\n  getMovesOnLine = (\r\n    position: Position,\r\n    rankDelta: number,\r\n    fileDelta: number\r\n  ): ValidMoves => {\r\n    const validMoves = [];\r\n    for (let i = 1; i < 8; i++) {\r\n      const newFile = FileArray.indexOf(position.file) + fileDelta * i;\r\n      const newRank = position.rank + rankDelta * i;\r\n\r\n      if (newRank > 8 || newFile > 7 || newRank < 1 || newFile < 0) {\r\n        break;\r\n      }\r\n\r\n      const move = this.checkPosition(newRank as Rank, FileArray[newFile]);\r\n\r\n      if (move === undefined) {\r\n        break;\r\n      }\r\n\r\n      validMoves.push(move);\r\n\r\n      if (move.move === \"Capture\") {\r\n        break;\r\n      }\r\n    }\r\n    return validMoves;\r\n  };\r\n\r\n  checkPosition = (rank: Rank, file: File): ValidMove | undefined => {\r\n    if (this.canTakeAt(rank, file)) {\r\n      return {\r\n        move: \"Capture\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    if (this.canTakeEnPassant(rank, file)) {\r\n      return {\r\n        move: \"CaptureEnPassant\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    if (this.canMoveTo(rank, file)) {\r\n      if (\r\n        this.piece.pieceType === \"PAWN\" &&\r\n        !this.board.pieceMoved(this.piece) &&\r\n        (rank === 4 || rank === 5)\r\n      ) {\r\n        return {\r\n          move: \"PawnPush\",\r\n          rank: rank,\r\n          file: file,\r\n        };\r\n      }\r\n      return {\r\n        move: \"Move\",\r\n        rank: rank,\r\n        file: file,\r\n      };\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  isStandardMove = (item: ValidMove | undefined): item is ValidMove => {\r\n    return !!item;\r\n  };\r\n\r\n  canTakeAt = (rank: Rank, file: File): boolean => {\r\n    const square = this.board.getPieceAt({ rank: rank as Rank, file });\r\n\r\n    return square.piece !== null && square.piece.colour !== this.piece.colour;\r\n  };\r\n\r\n  canTakeEnPassant = (rank: Rank, file: File): boolean => {\r\n    if (this.piece.pieceType !== \"PAWN\") return false;\r\n    if (!this.board.enPassant) return false;\r\n\r\n    return (\r\n      this.board.enPassant.file === file &&\r\n      this.board.enPassant.rank ===\r\n        rank + (this.piece.colour === \"WHITE\" ? -1 : 1)\r\n    );\r\n  };\r\n\r\n  canMoveTo = (rank: Rank, file: File): boolean => {\r\n    const pieceAt = this.board.getPieceAt({ rank: rank as Rank, file });\r\n    return pieceAt.piece === null;\r\n  };\r\n\r\n  isKingInCheck = (colour: \"WHITE\" | \"BLACK\"): Boolean => {\r\n    return this.board.isKingInCheck(colour);\r\n  };\r\n\r\n  abstract getPotentialMoves(from: Position): ValidMoves;\r\n}\r\n\r\nexport class BishopValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    return [\r\n      ...this.getMovesOnLine(from, -1, -1),\r\n      ...this.getMovesOnLine(from, 1, 1),\r\n      ...this.getMovesOnLine(from, 1, -1),\r\n      ...this.getMovesOnLine(from, -1, 1),\r\n    ];\r\n  }\r\n}\r\n\r\nexport class RookValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    return [\r\n      ...this.getMovesOnLine(from, 1, 0),\r\n      ...this.getMovesOnLine(from, 0, 1),\r\n      ...this.getMovesOnLine(from, 0, -1),\r\n      ...this.getMovesOnLine(from, -1, 0),\r\n    ];\r\n  }\r\n}\r\n\r\nexport class QueenValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    return [\r\n      ...new RookValidator(this.piece, this.board).getPotentialMoves(from),\r\n      ...new BishopValidator(this.piece, this.board).getPotentialMoves(from),\r\n    ];\r\n  }\r\n}\r\n\r\nexport class KnightValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    const moveDeltas = [\r\n      [1, 2],\r\n      [2, 1],\r\n      [-1, 2],\r\n      [-2, 1],\r\n      [-1, -2],\r\n      [-2, -1],\r\n      [1, -2],\r\n      [2, -1],\r\n    ];\r\n\r\n    const piece = this.board.getPieceAt(from);\r\n    if (piece.piece === null) {\r\n      throw new Error(\"nope\");\r\n    }\r\n\r\n    return moveDeltas\r\n      .map(([rd, fd]) => this.getMoveAtPosition(from, rd, fd))\r\n      .filter(this.isStandardMove);\r\n  }\r\n}\r\n\r\nexport class PawnValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    const increment = this.piece.colour === \"WHITE\" ? 1 : -1;\r\n\r\n    const moveDeltas = this.board.pieceMoved(this.piece)\r\n      ? [1 * increment]\r\n      : [1 * increment, 2 * increment];\r\n\r\n    const captureDeltas = [\r\n      [increment, 1],\r\n      [increment, -1],\r\n    ];\r\n\r\n    const moves: ValidMoves = moveDeltas\r\n      .map((rd) => this.getMoveAtPosition(from, rd, 0))\r\n      .filter(this.isStandardMove)\r\n      .filter((x) => x.move === \"Move\" || x.move === \"PawnPush\");\r\n\r\n    const captures: ValidMoves = captureDeltas\r\n      .map(([rd, fd]) => this.getMoveAtPosition(from, rd, fd))\r\n      .filter(this.isStandardMove)\r\n      .filter((x) => x.move === \"Capture\" || x.move === \"CaptureEnPassant\");\r\n\r\n    return [...moves, ...captures];\r\n  }\r\n}\r\n\r\nexport class KingValidator extends BaseValidator {\r\n  getPotentialMoves(from: Position): ValidMoves {\r\n    let validMoves: ValidMoves = [];\r\n    const moveDeltas = [\r\n      [1, 1],\r\n      [0, 1],\r\n      [1, 0],\r\n      [-1, 0],\r\n      [-1, -1],\r\n      [0, -1],\r\n      [-1, 1],\r\n      [1, -1],\r\n    ];\r\n\r\n    const file = FileArray.indexOf(from.file);\r\n    const rank = from.rank;\r\n\r\n    validMoves = moveDeltas\r\n      .map(([rd, fd]) => this.getMoveAtPosition(from, rd, fd))\r\n      .filter(this.isStandardMove);\r\n\r\n    if (this.canCastle(\"SHORT\"))\r\n      validMoves.push({\r\n        move: \"Castle\",\r\n        type: \"SHORT\",\r\n        colour: this.piece.colour,\r\n        rank: rank,\r\n        file: FileArray[file + 2],\r\n      });\r\n\r\n    if (this.canCastle(\"LONG\"))\r\n      validMoves.push({\r\n        move: \"Castle\",\r\n        type: \"LONG\",\r\n        colour: this.piece.colour,\r\n        rank: rank,\r\n        file: FileArray[file - 2],\r\n      });\r\n\r\n    return validMoves;\r\n  }\r\n\r\n  private castlingDeltas = (type: \"SHORT\" | \"LONG\") =>\r\n    type === \"SHORT\" ? [0, 1, 2] : [0, -1, -2];\r\n\r\n  private canCastle(type: \"SHORT\" | \"LONG\") {\r\n    const moveDeltas = this.castlingDeltas(type);\r\n    const rookFile = type === \"SHORT\" ? \"h\" : \"a\";\r\n    const kingRank = this.piece.colour === \"WHITE\" ? 1 : 8;\r\n\r\n    if (this.board.pieceMoved(this.piece)) return false;\r\n\r\n    const rook = this.board.getPieceAt({ rank: kingRank, file: rookFile });\r\n    if (!(rook.piece && !this.board.pieceMoved(rook.piece))) return false;\r\n\r\n    return moveDeltas.every((fileDelta) => {\r\n      const newFile = 4 + fileDelta;\r\n\r\n      const pieceAt = this.board.getPieceAt({\r\n        file: FileArray[newFile],\r\n        rank: kingRank,\r\n      });\r\n\r\n      if (pieceAt.piece === null || fileDelta === 0) {\r\n        const clone = this.board.clone();\r\n        clone.move(\r\n          { rank: kingRank, file: \"e\" },\r\n          { rank: kingRank, file: FileArray[newFile] }\r\n        );\r\n\r\n        return !clone.isKingInCheck(this.piece.colour);\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n}\r\n\r\nexport const getMoveValidator = (piece: IPiece, board: Board): IValidMoves => {\r\n  switch (piece.pieceType) {\r\n    case \"BISHOP\":\r\n      return new BishopValidator(piece, board);\r\n    case \"KING\":\r\n      return new KingValidator(piece, board);\r\n    case \"KNIGHT\":\r\n      return new KnightValidator(piece, board);\r\n    case \"PAWN\":\r\n      return new PawnValidator(piece, board);\r\n    case \"QUEEN\":\r\n      return new QueenValidator(piece, board);\r\n    case \"ROOK\":\r\n      return new RookValidator(piece, board);\r\n  }\r\n};\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class Bishop extends BasePiece {\r\n  pieceType = \"BISHOP\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class King extends BasePiece {\r\n  pieceType = \"KING\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class Knight extends BasePiece {\r\n  pieceType = \"KNIGHT\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class Pawn extends BasePiece {\r\n  pieceType = \"PAWN\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class Queen extends BasePiece {\r\n  pieceType = \"QUEEN\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { PieceType } from \"./types\";\r\n\r\nexport class Rook extends BasePiece {\r\n  pieceType = \"ROOK\" as PieceType;\r\n}\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { Empty, Rank, File } from \"./types\";\r\n\r\nexport class Square {\r\n  private _piece: BasePiece | Empty;\r\n\r\n  public get piece(): BasePiece | Empty {\r\n    return this._piece;\r\n  }\r\n\r\n  rank: Rank;\r\n  file: File;\r\n\r\n  constructor(rank: Rank, file: File, piece: BasePiece | Empty = null) {\r\n    this.rank = rank;\r\n    this.file = file;\r\n    this._piece = piece;\r\n  }\r\n\r\n  place(piece: BasePiece) {\r\n    this._piece = piece;\r\n  }\r\n\r\n  remove() {\r\n    this._piece = null;\r\n  }\r\n\r\n  clone() {\r\n    return new Square(this.rank, this.file, this.piece);\r\n  }\r\n}\r\n","import React, { useReducer, createContext, Dispatch } from \"react\";\r\nimport { Board } from \"../engine/board\";\r\nimport { Game } from \"../engine/game\";\r\nimport { File, Rank } from \"../engine/types\";\r\n\r\nconst game = new Game();\r\nconst initialState: State = { board: game.board };\r\n\r\nconst GameContext = createContext<[State, Dispatch<Action>]>([\r\n  initialState,\r\n  () => null,\r\n]);\r\n\r\ntype State = {\r\n  activePiece?: ActivePiece;\r\n  threatenedSquare?: { rank: Rank; file: File };\r\n  board: Board;\r\n};\r\n\r\ntype ActivePiece = {\r\n  rank: Rank;\r\n  file: File;\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\ntype Action =\r\n  | { type: \"PIECE_HOVER\"; payload: { x: number; y: number } }\r\n  | {\r\n      type: \"PIECE_ACTIVATED\";\r\n      payload: { rank: Rank; file: File; x: number; y: number };\r\n    }\r\n  | {\r\n      type: \"SQUARE_ATTACKED\";\r\n      payload: { rank: Rank; file: File };\r\n    }\r\n  | { type: \"MOVE\" };\r\n\r\nconst reducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case \"PIECE_HOVER\": {\r\n      if (!state.activePiece) throw new Error(\"state is corrupted\");\r\n\r\n      return {\r\n        ...state,\r\n        activePiece: {\r\n          ...state.activePiece,\r\n          x: action.payload.x,\r\n          y: action.payload.y,\r\n        },\r\n      };\r\n    }\r\n    case \"PIECE_ACTIVATED\":\r\n      return {\r\n        ...state,\r\n        activePiece: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n    case \"SQUARE_ATTACKED\":\r\n      return {\r\n        ...state,\r\n        threatenedSquare: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n    case \"MOVE\": {\r\n      if (!state.threatenedSquare) throw new Error(\"state is corrupted\");\r\n      if (!state.activePiece) throw new Error(\"state is corrupted\");\r\n\r\n      const from = {\r\n        file: state.activePiece.file,\r\n        rank: state.activePiece.rank,\r\n      };\r\n\r\n      const to = {\r\n        file: state.threatenedSquare.file,\r\n        rank: state.threatenedSquare.rank,\r\n      };\r\n\r\n      game.move(from, to);\r\n\r\n      return {\r\n        board: game.board,\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\ntype props = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst GameContextProvider = ({ children }: props) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <GameContext.Provider value={[state, dispatch]}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};\r\n\r\nexport {\r\n  GameContextProvider as DraggableContextProvider,\r\n  GameContext as DraggableContext,\r\n};\r\n","import { BasePiece } from \"./basePiece\";\r\nimport { Bishop } from \"./bishop\";\r\nimport { FileArray, RankArray } from \"./board\";\r\nimport { King } from \"./king\";\r\nimport { Knight } from \"./knight\";\r\nimport { Pawn } from \"./pawn\";\r\nimport { Queen } from \"./queen\";\r\nimport { Rook } from \"./rook\";\r\nimport { Square } from \"./square\";\r\nimport { PiecePosition, Rank, File } from \"./types\";\r\n\r\nexport const buildBoard = (): Square[] => {\r\n  const board = RankArray.flatMap((rank) =>\r\n    FileArray.map((file) => new Square(rank, file))\r\n  );\r\n\r\n  const placeAt = (rank: Rank, file: File, piece: BasePiece) => {\r\n    const sqaure = board.find((x) => x.file === file && x.rank === rank);\r\n    sqaure?.place(piece);\r\n  };\r\n\r\n  placeAt(1, \"a\", new Rook(\"WHITE\"));\r\n  placeAt(1, \"b\", new Knight(\"WHITE\"));\r\n  placeAt(1, \"c\", new Bishop(\"WHITE\"));\r\n  placeAt(1, \"d\", new Queen(\"WHITE\"));\r\n  placeAt(1, \"e\", new King(\"WHITE\"));\r\n  placeAt(1, \"f\", new Bishop(\"WHITE\"));\r\n  placeAt(1, \"g\", new Knight(\"WHITE\"));\r\n  placeAt(1, \"h\", new Rook(\"WHITE\"));\r\n\r\n  placeAt(2, \"a\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"b\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"c\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"d\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"e\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"f\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"g\", new Pawn(\"WHITE\"));\r\n  placeAt(2, \"h\", new Pawn(\"WHITE\"));\r\n\r\n  placeAt(7, \"a\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"b\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"c\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"d\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"e\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"f\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"g\", new Pawn(\"BLACK\"));\r\n  placeAt(7, \"h\", new Pawn(\"BLACK\"));\r\n\r\n  placeAt(8, \"a\", new Rook(\"BLACK\"));\r\n  placeAt(8, \"b\", new Knight(\"BLACK\"));\r\n  placeAt(8, \"c\", new Bishop(\"BLACK\"));\r\n  placeAt(8, \"d\", new Queen(\"BLACK\"));\r\n  placeAt(8, \"e\", new King(\"BLACK\"));\r\n  placeAt(8, \"f\", new Bishop(\"BLACK\"));\r\n  placeAt(8, \"g\", new Knight(\"BLACK\"));\r\n  placeAt(8, \"h\", new Rook(\"BLACK\"));\r\n\r\n  return board;\r\n};\r\n\r\nconst InitialBoard: PiecePosition[] = [\r\n  {\r\n    position: { rank: 1, file: \"a\" },\r\n    piece: new Rook(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"b\" },\r\n    piece: new Knight(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"c\" },\r\n    piece: new Bishop(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"d\" },\r\n    piece: new Queen(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"e\" },\r\n    piece: new King(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"f\" },\r\n    piece: new Bishop(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"g\" },\r\n    piece: new Knight(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 1, file: \"h\" },\r\n    piece: new Rook(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"a\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"b\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"c\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"d\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"e\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"f\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"g\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 2, file: \"h\" },\r\n    piece: new Pawn(\"WHITE\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"a\" },\r\n    piece: new Rook(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"b\" },\r\n    piece: new Knight(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"c\" },\r\n    piece: new Bishop(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"d\" },\r\n    piece: new Queen(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"e\" },\r\n    piece: new King(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"f\" },\r\n    piece: new Bishop(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"g\" },\r\n    piece: new Knight(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 8, file: \"h\" },\r\n    piece: new Rook(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"a\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"b\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"c\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"d\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"e\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"f\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"g\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n  {\r\n    position: { rank: 7, file: \"h\" },\r\n    piece: new Pawn(\"BLACK\"),\r\n  },\r\n];\r\n\r\nexport default InitialBoard;\r\n","import { getMoveValidator } from \"./basePiece\";\r\nimport { Board } from \"./board\";\r\nimport { buildBoard } from \"./initial-board\";\r\nimport { File, Position } from \"./types\";\r\n\r\nexport class Game {\r\n  private _board: Board;\r\n\r\n  public get board(): Board {\r\n    return this._board;\r\n  }\r\n\r\n  constructor() {\r\n    this._board = new Board(buildBoard());\r\n  }\r\n\r\n  move(from: Position, to: Position) {\r\n    const square = this._board.getPieceAt(from);\r\n    console.log(square);\r\n    if (!square.piece) throw new Error(\"No Piece to move\");\r\n\r\n    const move = getMoveValidator(square.piece, this._board).canMove(from, to);\r\n    console.log(move);\r\n\r\n    switch (move.move) {\r\n      case \"INVALID\":\r\n        break;\r\n      case \"Move\":\r\n      case \"PawnPush\":\r\n      case \"CaptureEnPassant\":\r\n      case \"Capture\": {\r\n        if (move.move === \"CaptureEnPassant\") {\r\n          if (!this._board.enPassant) throw new Error(\"no enPassant\");\r\n          this._board.remove(this._board.enPassant);\r\n        }\r\n        this._board.move(from, to);\r\n\r\n        if (move.move === \"PawnPush\") {\r\n          this._board.enPassant = to;\r\n        } else {\r\n          this._board.enPassant = undefined;\r\n        }\r\n        break;\r\n      }\r\n      case \"Castle\": {\r\n        this._board.move(from, to);\r\n\r\n        const rookFrom = {\r\n          rank: square.rank,\r\n          file: move.type === \"SHORT\" ? \"h\" : (\"a\" as File),\r\n        };\r\n\r\n        const rookTo = {\r\n          rank: square.rank,\r\n          file: move.type === \"SHORT\" ? \"f\" : (\"d\" as File),\r\n        };\r\n\r\n        this._board.move(rookFrom, rookTo);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport { Draggable } from \"./components/draggable\";\r\nimport { Black, White } from \"./components/classic_pieces\";\r\nimport styles from \"./App.module.css\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useCallback } from \"react\";\r\nimport {\r\n  DraggableContext,\r\n  DraggableContextProvider,\r\n} from \"./components/game-context\";\r\nimport { useContext } from \"react\";\r\nimport { File, Rank } from \"./engine/types\";\r\nimport {\r\n  FileArray,\r\n  isLightSquare,\r\n  RankArray,\r\n  Board as GameBoard,\r\n} from \"./engine/board\";\r\n\r\nconst getPieceAt = (rank: Rank, file: File, currentBoard: GameBoard) => {\r\n  const square = currentBoard.getPieceAt({ rank, file });\r\n\r\n  if (square.piece) {\r\n    const set = square.piece.colour === \"WHITE\" ? White : Black;\r\n    switch (square.piece.pieceType) {\r\n      case \"BISHOP\":\r\n        return set.Bishop;\r\n      case \"KING\":\r\n        return set.King;\r\n      case \"KNIGHT\":\r\n        return set.Knight;\r\n      case \"PAWN\":\r\n        return set.Pawn;\r\n      case \"QUEEN\":\r\n        return set.Queen;\r\n      case \"ROOK\":\r\n        return set.Rook;\r\n    }\r\n  }\r\n};\r\n\r\ntype gridProps = {\r\n  rank: Rank;\r\n  file: File;\r\n  bound: DOMRect | undefined;\r\n};\r\n\r\nconst GridPosition = ({ rank, file, bound }: gridProps) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [state, dispatch] = useContext(DraggableContext);\r\n  const [inBound, setInBound] = useState(false);\r\n  const isLight = isLightSquare(rank, file);\r\n  const Piece = getPieceAt(rank, file, state.board);\r\n\r\n  useEffect(() => {\r\n    const bound = ref.current?.getBoundingClientRect();\r\n\r\n    if (bound) {\r\n      if (\r\n        state.activePiece &&\r\n        state.activePiece.x >= bound?.left &&\r\n        state.activePiece.x < bound?.right &&\r\n        state.activePiece.y >= bound.top &&\r\n        state.activePiece.y < bound.bottom\r\n      ) {\r\n        setInBound(true);\r\n      } else {\r\n        setInBound(false);\r\n      }\r\n    }\r\n  }, [state, rank, file]);\r\n\r\n  useEffect(() => {\r\n    if (inBound) {\r\n      dispatch({ type: \"SQUARE_ATTACKED\", payload: { rank, file } });\r\n    }\r\n  }, [inBound, dispatch, file, rank]);\r\n\r\n  const pieceHover = useCallback(\r\n    (x, y) => dispatch({ type: \"PIECE_HOVER\", payload: { x, y } }),\r\n    [dispatch]\r\n  );\r\n\r\n  const pieceActivated = useCallback(\r\n    (x, y) =>\r\n      dispatch({ type: \"PIECE_ACTIVATED\", payload: { rank, file, x, y } }),\r\n    [dispatch, rank, file]\r\n  );\r\n\r\n  const move = useCallback(() => dispatch({ type: \"MOVE\" }), [dispatch]);\r\n\r\n  return (\r\n    <div\r\n      className={`${styles.chessSquare} ${isLight ? styles.light : \"\"} ${\r\n        inBound ? styles.highlighted : \"\"\r\n      } ${styles[`rank_${rank}`]} ${styles[`file_${file}`]}`}\r\n      //@ts-ignore\r\n      rank={rank}\r\n      file={file}\r\n      key={rank + file}\r\n      ref={ref}\r\n    >\r\n      {Piece && (\r\n        <Draggable\r\n          boundingBox={bound}\r\n          onMouseUp={move}\r\n          onMouseMove={pieceHover}\r\n          onMouseDown={pieceActivated}\r\n        >\r\n          <Piece />\r\n        </Draggable>\r\n      )}\r\n      {rank === 1 && <div className={styles.rank}>{file}</div>}\r\n      {file === \"a\" && <div className={styles.file}>{rank}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Board = () => {\r\n  const chessGrid = useRef<HTMLDivElement>(null);\r\n  const [bound, setBound] = useState<DOMRect>();\r\n\r\n  const onWindowResize = useCallback(() => {\r\n    setBound(chessGrid.current?.getBoundingClientRect());\r\n  }, []);\r\n\r\n  useOnWindowResize(onWindowResize);\r\n\r\n  useEffect(() => {\r\n    setBound(chessGrid.current?.getBoundingClientRect());\r\n  }, [chessGrid]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div ref={chessGrid} className={styles.chessGrid}>\r\n        {RankArray.map((r) =>\r\n          FileArray.map((f) => (\r\n            <GridPosition rank={r} file={f} bound={bound} key={r + f} />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <DraggableContextProvider>\r\n      <Board />\r\n    </DraggableContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nconst useOnWindowResize = (action: Function) => {\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      action();\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [action]);\r\n};\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3Hag2\",\"chessGrid\":\"App_chessGrid__3cPOC\",\"chessSquare\":\"App_chessSquare__SDQaO\",\"light\":\"App_light__3AKuB\",\"highlighted\":\"App_highlighted__19TOk\",\"rank\":\"App_rank__3KL7s\",\"file\":\"App_file__3wQ0V\"};"],"sourceRoot":""}