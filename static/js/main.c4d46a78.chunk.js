(this["webpackJsonpchess-board"]=this["webpackJsonpchess-board"]||[]).push([[0],{11:function(e,t,c){},12:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(6),o=c.n(i),s=(c(11),c(3)),a=(c(12),c(0)),l=function(e){var t=e.children,c=e.boundingBox,i=e.onMouseDown,o=e.onMouseMove,l=e.onMouseUp,u=Object(n.useState)({x:0,y:0,pressed:!1}),d=Object(s.a)(u,2),j=d[0],h=d[1],f=Object(n.useState)({x:0,y:0}),b=Object(s.a)(f,2),v=b[0],p=b[1],O=Object(n.useRef)(null);Object(n.useEffect)((function(){O.current&&j.pressed?O.current.style.transform="translate(".concat(v.x,"px, ").concat(v.y,"px)"):O.current&&(O.current.style.transform="")}),[v,j.pressed]);var x=r.a.useCallback((function(e){h({x:0,y:0,pressed:!1}),p({x:0,y:0}),null===l||void 0===l||l(-1,-1)}),[l]),k=r.a.useCallback((function(e){var t;t="mousemove"===e.type?e:e.touches[0];var n=c?Math.max(Math.min(t.pageX,c.right),c.left):t.pageX,r=c?Math.max(Math.min(t.pageY,c.bottom),c.top):t.pageY,i=n-j.x,s=r-j.y;null===o||void 0===o||o(n,r),p({x:i,y:s})}),[j,c,o]),g=Object(n.useRef)(k);Object(n.useEffect)((function(){j.pressed?(g.current=k,document.addEventListener("mousemove",k),document.addEventListener("mouseup",x),document.addEventListener("touchmove",k),document.addEventListener("touchend",x)):(document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",x))}),[j.pressed,k,x]);var w=function(e){var t,n;n="mousedown"===e.type?e:e.touches[0];var r=null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect(),o=n.pageX,s=n.pageY;r&&(o=(null===r||void 0===r?void 0:r.x)+(null===r||void 0===r?void 0:r.width)/2,s=(null===r||void 0===r?void 0:r.y)+(null===r||void 0===r?void 0:r.height)/2);var a=c?Math.max(Math.min(n.pageX,c.right),c.left):n.pageX,l=c?Math.max(Math.min(n.pageY,c.bottom),c.top):n.pageY;p({x:a-o,y:l-s}),null===i||void 0===i||i(a,l),h({x:o,y:s,pressed:!0})};return Object(a.jsx)("div",{ref:O,onMouseDown:w,onTouchStart:w,children:t})},u=c(2);function d(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsxs)("g",{fill:"#000",strokeLinecap:"butt",children:[Object(a.jsx)("path",{d:"M9 36c3.39-.97 10.11.43 13.5-2 3.39 2.43 10.11 1.03 13.5 2 0 0 1.65.54 3 2-.68.97-1.65.99-3 .5-3.39-.97-10.11.46-13.5-1-3.39 1.46-10.11.03-13.5 1-1.35.49-2.32.47-3-.5 1.35-1.46 3-2 3-2z"}),Object(a.jsx)("path",{d:"M15 32c2.5 2.5 12.5 2.5 15 0 .5-1.5 0-2 0-2 0-2.5-2.5-4-2.5-4 5.5-1.5 6-11.5-5-15.5-11 4-10.5 14-5 15.5 0 0-2.5 1.5-2.5 4 0 0-.5.5 0 2z"}),Object(a.jsx)("path",{d:"M25 8a2.5 2.5 0 11-5 0 2.5 2.5 0 115 0z"})]}),Object(a.jsx)("path",{d:"M17.5 26h10M15 30h15m-7.5-14.5v5M20 18h5",stroke:"#fff",strokeLinejoin:"miter"})]})}))}var j=n.memo(d);function h(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsxs)("g",{fill:"#fff",strokeLinecap:"butt",children:[Object(a.jsx)("path",{d:"M9 36c3.39-.97 10.11.43 13.5-2 3.39 2.43 10.11 1.03 13.5 2 0 0 1.65.54 3 2-.68.97-1.65.99-3 .5-3.39-.97-10.11.46-13.5-1-3.39 1.46-10.11.03-13.5 1-1.35.49-2.32.47-3-.5 1.35-1.46 3-2 3-2z"}),Object(a.jsx)("path",{d:"M15 32c2.5 2.5 12.5 2.5 15 0 .5-1.5 0-2 0-2 0-2.5-2.5-4-2.5-4 5.5-1.5 6-11.5-5-15.5-11 4-10.5 14-5 15.5 0 0-2.5 1.5-2.5 4 0 0-.5.5 0 2z"}),Object(a.jsx)("path",{d:"M25 8a2.5 2.5 0 11-5 0 2.5 2.5 0 115 0z"})]}),Object(a.jsx)("path",{d:"M17.5 26h10M15 30h15m-7.5-14.5v5M20 18h5",strokeLinejoin:"miter"})]})}))}var f=n.memo(h);function b(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M22.5 11.63V6",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5",fill:"#000",strokeLinecap:"butt",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7",fill:"#000"}),Object(a.jsx)("path",{d:"M20 8h5",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M32 29.5s8.5-4 6.03-9.65C34.15 14 25 18 22.5 24.5v2.1-2.1C20 18 10.85 14 6.97 19.85 4.5 25.5 13 29.5 13 29.5",stroke:"#fff"}),Object(a.jsx)("path",{d:"M12.5 30c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0m-20 3.5c5.5-3 14.5-3 20 0",stroke:"#fff"})]})}))}var v=n.memo(b);function p(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M22.5 11.63V6M20 8h5",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5",fill:"#fff",strokeLinecap:"butt",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M12.5 37c5.5 3.5 14.5 3.5 20 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-2.5-7.5-12-10.5-16-4-3 6 6 10.5 6 10.5v7",fill:"#fff"}),Object(a.jsx)("path",{d:"M12.5 30c5.5-3 14.5-3 20 0M12.5 33.5c5.5-3 14.5-3 20 0M12.5 37c5.5-3 14.5-3 20 0"})]})}))}var O=n.memo(p);function x(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M22 10c10.5 1 16.5 8 16 29H15c0-9 10-6.5 8-21",fill:"#000"}),Object(a.jsx)("path",{d:"M24 18c.38 2.91-5.55 7.37-8 9-3 2-2.82 4.34-5 4-1.042-.94 1.41-3.04 0-3-1 0 .19 1.23-1 2-1 0-4.003 1-4-4 0-2 6-12 6-12s1.89-1.9 2-3.5c-.73-.994-.5-2-.5-3 1-1 3 2.5 3 2.5h2s.78-1.992 2.5-3c1 0 1 3 1 3",fill:"#000"}),Object(a.jsx)("path",{d:"M9.5 25.5a.5.5 0 11-1 0 .5.5 0 111 0z",fill:"#fff",stroke:"#fff"}),Object(a.jsx)("path",{d:"M14.933 15.75a.5 1.5 30 11-.866-.5.5 1.5 30 11.866.5z",fill:"#fff",stroke:"#fff",strokeWidth:1.49997}),Object(a.jsx)("path",{d:"M24.55 10.4l-.45 1.45.5.15c3.15 1 5.65 2.49 7.9 6.75S35.75 29.06 35.25 39l-.05.5h2.25l.05-.5c.5-10.06-.88-16.85-3.25-21.34-2.37-4.49-5.79-6.64-9.19-7.16l-.51-.1z",fill:"#fff",stroke:"none"})]})}))}var k=n.memo(x);function g(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"none",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M22 10c10.5 1 16.5 8 16 29H15c0-9 10-6.5 8-21",fill:"#fff"}),Object(a.jsx)("path",{d:"M24 18c.38 2.91-5.55 7.37-8 9-3 2-2.82 4.34-5 4-1.042-.94 1.41-3.04 0-3-1 0 .19 1.23-1 2-1 0-4.003 1-4-4 0-2 6-12 6-12s1.89-1.9 2-3.5c-.73-.994-.5-2-.5-3 1-1 3 2.5 3 2.5h2s.78-1.992 2.5-3c1 0 1 3 1 3",fill:"#fff"}),Object(a.jsx)("path",{d:"M9.5 25.5a.5.5 0 11-1 0 .5.5 0 111 0z",fill:"#000"}),Object(a.jsx)("path",{d:"M14.933 15.75a.5 1.5 30 11-.866-.5.5 1.5 30 11.866.5z",fill:"#000",strokeWidth:1.49997})]})}))}var w=n.memo(g),m=function(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsx)("path",{d:"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round"})}))},M=n.memo(m);function L(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsx)("path",{d:"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z",fill:"#fff",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round"})}))}var E=n.memo(L);function A(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26z",strokeLinecap:"butt"}),Object(a.jsx)("path",{d:"M9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1 2.5-1 2.5-1.5 1.5 0 2.5 0 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0zM11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0"}),Object(a.jsx)("circle",{cx:6,cy:12,r:2}),Object(a.jsx)("circle",{cx:14,cy:9,r:2}),Object(a.jsx)("circle",{cx:22.5,cy:8,r:2}),Object(a.jsx)("circle",{cx:31,cy:9,r:2}),Object(a.jsx)("circle",{cx:39,cy:12,r:2}),Object(a.jsx)("path",{d:"M11 38.5a35 35 1 0023 0",fill:"none",strokeLinecap:"butt"}),Object(a.jsx)("g",{fill:"none",stroke:"#fff",children:Object(a.jsx)("path",{d:"M11 29a35 35 1 0123 0M12.5 31.5h20M11.5 34.5a35 35 1 0022 0M10.5 37.5a35 35 1 0024 0"})})]})}))}var W=n.memo(A);function P(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"#fff",stroke:"#000",strokeWidth:1.5,strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26z"}),Object(a.jsx)("path",{d:"M9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1 2.5-1 2.5-1.5 1.5 0 2.5 0 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0z"}),Object(a.jsx)("path",{d:"M11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0",fill:"none"}),Object(a.jsx)("circle",{cx:6,cy:12,r:2}),Object(a.jsx)("circle",{cx:14,cy:9,r:2}),Object(a.jsx)("circle",{cx:22.5,cy:8,r:2}),Object(a.jsx)("circle",{cx:31,cy:9,r:2}),Object(a.jsx)("circle",{cx:39,cy:12,r:2})]})}))}var B=n.memo(P);function C(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M9 39h27v-3H9v3zM12.5 32l1.5-2.5h17l1.5 2.5h-20zM12 36v-4h21v4H12z",strokeLinecap:"butt"}),Object(a.jsx)("path",{d:"M14 29.5v-13h17v13H14z",strokeLinecap:"butt",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M14 16.5L11 14h23l-3 2.5H14zM11 14V9h4v2h5V9h5v2h5V9h4v5H11z",strokeLinecap:"butt"}),Object(a.jsx)("path",{d:"M12 35.5h21M13 31.5h19M14 29.5h17M14 16.5h17M11 14h23",fill:"none",stroke:"#fff",strokeWidth:1,strokeLinejoin:"miter"})]})}))}function y(e){return Object(a.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 45 45"},e),{},{children:Object(a.jsxs)("g",{fill:"#fff",fillRule:"evenodd",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(a.jsx)("path",{d:"M9 39h27v-3H9v3zM12 36v-4h21v4H12zM11 14V9h4v2h5V9h5v2h5V9h4v5",strokeLinecap:"butt"}),Object(a.jsx)("path",{d:"M34 14l-3 3H14l-3-3"}),Object(a.jsx)("path",{d:"M31 17v12.5H14V17",strokeLinecap:"butt",strokeLinejoin:"miter"}),Object(a.jsx)("path",{d:"M31 29.5l1.5 2.5h-20l1.5-2.5"}),Object(a.jsx)("path",{d:"M11 14h23",fill:"none",strokeLinejoin:"miter"})]})}))}var H={King:v,Queen:W,Knight:k,Bishop:j,Pawn:M,Rook:n.memo(C)},I={King:O,Queen:B,Knight:w,Bishop:f,Pawn:E,Rook:n.memo(y)},K=c(4),T=c.n(K),N={board:[{rank:8,file:"a",piece:"ROOK",colour:"WHITE"},{rank:8,file:"b",piece:"KNIGHT",colour:"WHITE"},{rank:8,file:"c",piece:"BISHOP",colour:"WHITE"},{rank:8,file:"d",piece:"KING",colour:"WHITE"},{rank:8,file:"e",piece:"QUEEN",colour:"WHITE"},{rank:8,file:"f",piece:"BISHOP",colour:"WHITE"},{rank:8,file:"g",piece:"KNIGHT",colour:"WHITE"},{rank:8,file:"h",piece:"ROOK",colour:"WHITE"},{rank:7,file:"a",piece:"PAWN",colour:"WHITE"},{rank:7,file:"b",piece:"PAWN",colour:"WHITE"},{rank:7,file:"c",piece:"PAWN",colour:"WHITE"},{rank:7,file:"d",piece:"PAWN",colour:"WHITE"},{rank:7,file:"e",piece:"PAWN",colour:"WHITE"},{rank:7,file:"f",piece:"PAWN",colour:"WHITE"},{rank:7,file:"g",piece:"PAWN",colour:"WHITE"},{rank:7,file:"h",piece:"PAWN",colour:"WHITE"},{rank:1,file:"a",piece:"ROOK",colour:"BLACK"},{rank:1,file:"b",piece:"KNIGHT",colour:"BLACK"},{rank:1,file:"c",piece:"BISHOP",colour:"BLACK"},{rank:1,file:"d",piece:"KING",colour:"BLACK"},{rank:1,file:"e",piece:"QUEEN",colour:"BLACK"},{rank:1,file:"f",piece:"BISHOP",colour:"BLACK"},{rank:1,file:"g",piece:"KNIGHT",colour:"BLACK"},{rank:1,file:"h",piece:"ROOK",colour:"BLACK"},{rank:2,file:"a",piece:"PAWN",colour:"BLACK"},{rank:2,file:"b",piece:"PAWN",colour:"BLACK"},{rank:2,file:"c",piece:"PAWN",colour:"BLACK"},{rank:2,file:"d",piece:"PAWN",colour:"BLACK"},{rank:2,file:"e",piece:"PAWN",colour:"BLACK"},{rank:2,file:"f",piece:"PAWN",colour:"BLACK"},{rank:2,file:"g",piece:"PAWN",colour:"BLACK"},{rank:2,file:"h",piece:"PAWN",colour:"BLACK"}]},R=Object(n.createContext)([N,function(){return null}]),z=function(e,t){switch(t.type){case"PIECE_HOVER":if(!e.activePiece)throw new Error("state is corrupted");return Object(u.a)(Object(u.a)({},e),{},{activePiece:Object(u.a)(Object(u.a)({},e.activePiece),{},{x:t.payload.x,y:t.payload.y})});case"PIECE_ACTIVATED":return Object(u.a)(Object(u.a)({},e),{},{activePiece:Object(u.a)({},t.payload)});case"SQUARE_ATTACKED":return Object(u.a)(Object(u.a)({},e),{},{threatenedSquare:Object(u.a)({},t.payload)});case"MOVE":var c,n;if(!e.threatenedSquare)throw new Error("state is corrupted");if(!e.activePiece)throw new Error("state is corrupted");var r=e.board.find((function(t){var c,n;return t.rank===(null===(c=e.activePiece)||void 0===c?void 0:c.rank)&&t.file===(null===(n=e.activePiece)||void 0===n?void 0:n.file)}));if(!r)throw new Error("state is corrupted");var i=e.board.filter((function(t){var c,n,r,i;return!(t.rank===(null===(c=e.activePiece)||void 0===c?void 0:c.rank)&&t.file===(null===(n=e.activePiece)||void 0===n?void 0:n.file))&&!(t.rank===(null===(r=e.threatenedSquare)||void 0===r?void 0:r.rank)&&t.file===(null===(i=e.threatenedSquare)||void 0===i?void 0:i.file))}));return i.push({colour:null===r||void 0===r?void 0:r.colour,piece:r.piece,rank:null===(c=e.threatenedSquare)||void 0===c?void 0:c.rank,file:null===(n=e.threatenedSquare)||void 0===n?void 0:n.file}),{board:i}}},S=function(e){var t=e.children,c=Object(n.useReducer)(z,N),r=Object(s.a)(c,2),i=r[0],o=r[1];return Object(a.jsx)(R.Provider,{value:[i,o],children:t})},_=[8,7,6,5,4,3,2,1],V=["a","b","c","d","e","f","g","h"],G=function(e){var t=e.rank,c=e.file,r=e.bound,i=Object(n.useRef)(null),o=Object(n.useContext)(R),u=Object(s.a)(o,2),d=u[0],j=u[1],h=Object(n.useState)(!1),f=Object(s.a)(h,2),b=f[0],v=f[1],p=function(e,t){return e%2===0&&V.indexOf(t)%2===0||e%2===1&&V.indexOf(t)%2===1}(t,c),O=function(e,t,c){var n=c.find((function(c){return c.file===t&&c.rank===e}));if(n){var r="WHITE"===n.colour?I:H;switch(n.piece){case"BISHOP":return r.Bishop;case"KING":return r.King;case"KNIGHT":return r.Knight;case"PAWN":return r.Pawn;case"QUEEN":return r.Queen;case"ROOK":return r.Rook}}}(t,c,d.board);Object(n.useEffect)((function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect();t&&(d.activePiece&&d.activePiece.x>=(null===t||void 0===t?void 0:t.left)&&d.activePiece.x<(null===t||void 0===t?void 0:t.right)&&d.activePiece.y>=t.top&&d.activePiece.y<t.bottom?v(!0):v(!1))}),[d,t,c]),Object(n.useEffect)((function(){b&&j({type:"SQUARE_ATTACKED",payload:{rank:t,file:c}})}),[b,j,c,t]);var x=Object(n.useCallback)((function(e,t){return j({type:"PIECE_HOVER",payload:{x:e,y:t}})}),[j]),k=Object(n.useCallback)((function(e,n){return j({type:"PIECE_ACTIVATED",payload:{rank:t,file:c,x:e,y:n}})}),[j,t,c]),g=Object(n.useCallback)((function(){return j({type:"MOVE"})}),[j]);return Object(a.jsx)("div",{className:"".concat(T.a.chessSquare," ").concat(p?T.a.light:""," ").concat(b?T.a.highlighted:""),rank:t,file:c,ref:i,children:O&&Object(a.jsx)(l,{boundingBox:r,onMouseUp:g,onMouseMove:x,onMouseDown:k,children:Object(a.jsx)(O,{})})},t+c)},q=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(),c=Object(s.a)(t,2),r=c[0],i=c[1],o=Object(n.useCallback)((function(){var t;i(null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())}),[]);return Q(o),Object(n.useEffect)((function(){var t;i(null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())}),[e]),Object(a.jsx)("div",{className:T.a.container,children:Object(a.jsx)("div",{ref:e,className:T.a.chessGrid,children:_.map((function(e){return V.map((function(t){return Object(a.jsx)(G,{rank:e,file:t,bound:r},e+t)}))}))})})};var D=function(){return Object(a.jsx)(S,{children:Object(a.jsx)(q,{})})},Q=function(e){Object(n.useEffect)((function(){var t=function(){e()};return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[e])},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),U()},4:function(e,t,c){e.exports={container:"App_container__3Hag2",chessGrid:"App_chessGrid__3cPOC",chessSquare:"App_chessSquare__SDQaO",light:"App_light__3AKuB",highlighted:"App_highlighted__19TOk"}}},[[14,1,2]]]);
//# sourceMappingURL=main.c4d46a78.chunk.js.map